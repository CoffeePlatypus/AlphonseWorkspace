import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Scanner;

public class SpellCheck {
	private static Dictionary dictionary;
	private static ArrayList<MispelledWord> wrongWords= new ArrayList<MispelledWord>();
	
	public static void main(String[] args) {
		try {
			File dictionaryFile= new File(args[0]);
			File documentFile= new File(args[1]);
			int length=Integer.parseInt(args[2]);
			makeDictionary(dictionaryFile);
			checkFiles(documentFile,length);
		} catch (IOException e) {
			System.out.println("File Error");
		}
	}


	public static void checkFiles(File documentFile, int length)throws IOException {
		BufferedReader rin= new BufferedReader(new FileReader(documentFile));
		String line=rin.readLine();
		int lineNumber=0;
		while(line!=null) {
			lineNumber++;
			Scanner scanner= new Scanner(line);
			scanner.useDelimiter("[^a-zA-Z\\'\\-]");
			while(scanner.hasNext()) {
				String word=scanner.next();
				if(word.length()>length ||	dictionary.isMispelled(word)){
					if(wrongWords.contains(word)){
						
					
					}else{
						wrongWords.add(new MispelledWord(word,lineNumber))
					}
				}
			}
			
		}
		
	}


	public static void makeDictionary(File dictionaryFile) throws IOException {
		ArrayList<String> words=new ArrayList<String>();
		BufferedReader fin = new BufferedReader(new FileReader(dictionaryFile));
		String line= fin.readLine();
		while(line!=null) {
			words.add(line);
			line=fin.readLine();
		}
		dictionary=new Dictionary(words);
		fin.close();
	}

}
